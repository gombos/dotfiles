[general]

# Check if we should suspend or not every 12 hours (12*60)
interval = 720

# Suspend after a day of inactivity (24*60)
idle_time = 1440

suspend_cmd = /bin/systemctl suspend
wakeup_cmd = sh -c 'echo 0 > /sys/class/rtc/rtc0/wakealarm && echo {timestamp:.0f} > /sys/class/rtc/rtc0/wakealarm'
woke_up_file = /var/run/autosuspend-just-woke-up
lock_file = /var/lock/autosuspend.lock
lock_timeout = 30

[check.RemoteUsers]
class = Users
enabled = true
name = .*
terminal = .*
host = [0-9].*

[check.LocalUsers]
class = Users
enabled = false
name = .*
terminal = .*
host = .*

[check.ActiveConnection]
enabled = true
ports = 443,902,59744

[check.Processes]
enabled = true
processes = rsync

#[check.ActiveCalendarEvent]
#enabled = false
#url = file:////run/active.ics

#[wakeup.Calendar]
#enabled = false
#url = file:////run/active.ics

# Ping an IP
[check.Ping]
enabled = false
#hosts = 192.168.1.X
