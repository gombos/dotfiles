#!/bin/sh

set -x

cd /tmp

. ./infra-env.sh

mkdir -p /usr/local/bin

# todo - separate out nix to its own script
#

# populate /nix and /nix/var/nix/profiles/default/ so that it is usrlocal compatible
#echo "nixbld:x:402:nobody" >> /etc/group
#rm -rf install
#wget --quiet https://nixos.org/nix/install
#chmod +x install
#USER=root ./install --no-daemon
#. /root/.nix-profile/etc/profile.d/nix.sh
#rm -rf install

#nix-channel --update

# NIXPKGS_ALLOW_UNFREE=1 nix-env --install vscode

# packages of interest
# go google-chrome

#fixme nix-collect-garbage -d
#fixme nix-store --verify --check-contents
#fixme nix-store --gc
#fixme nix-store --optimise

# appimage - digikam
#wget --quiet https://download.kde.org/stable/digikam/${DIGIKAM}/digiKam-${DIGIKAM}-x86-64.appimage -O /usr/local/bin/digikam
#chmod +x /usr/local/bin/digikam

#pip3 install castero
#pip3 install --break-system-packages --prefix /usr linode-cli

# dev tools
# pip3 install networkx
# pip3 install python-apt
# pip3 install awscli PyYAML
# pip3 install pyusb temperusb

